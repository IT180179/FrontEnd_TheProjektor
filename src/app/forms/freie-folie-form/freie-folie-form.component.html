<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="utf-8"/>
  <link href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css" rel="stylesheet"/>
  <link href="https://unpkg.com/bulma-calendar@6.0.7/dist/css/bulma-calendar.min.css" rel="stylesheet"/>
  <script src="https://unpkg.com/bulma-calendar@6.0.7/dist/js/bulma-calendar.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
</head>
<body style="background-color: #e5f6ff" >
<div id="main">
  <h1 class="subtitle is-2 title" style="color: #005281;background-color: #e5f6ff" >Freie Folie:</h1>
  <div id="form">
    <form [formGroup]="myForm">
      <div class="form-group">
        <mat-label for="beschreibung">Überschrift</mat-label>
        <mat-form-field appearance="outline" class="full-width-field">
          <input class="form-control" formControlName="beschreibung"
                 id="beschreibung" matInput type="text">
          <mat-error *ngIf="myForm.controls['beschreibung'].hasError('required')">
            Überschrift muss ausgefüllt werden!
          </mat-error>
          <mat-error *ngIf="myForm.controls['beschreibung'].hasError('maxlength')">
            Zeichenanzahl wurde überschritten!
          </mat-error>
        </mat-form-field>
        <mat-label for="freitext">Frei-Text</mat-label>
        <mat-form-field appearance="outline" class="full-width-field">
                  <textarea class="form-control" formControlName="freitext"
                            id="freitext" matInput type="text"></textarea>
          <mat-error *ngIf="myForm.controls['freitext'].hasError('required')">
            Freitext muss ausgefüllt werden!
          </mat-error>
          <mat-error *ngIf="myForm.controls['freitext'].hasError('maxlength')">
            Zeichenanzahl wurde überschritten!
          </mat-error>
        </mat-form-field>
      </div>
      <div class=" full-width-field form-group">
        <div class="file full-width-field">
          <label class="file-label full-width-field">

        <label for="file">Wähle ein Bild
          <img [src]="imageUrl" alt="Image Review">
        </label>
            <input type="file" id="file" (change)="onSelectNewFile($event.target)">
            <br>
           <!-- <textarea rows="10" disabled [innerHTML]="base64"></textarea>
            <button (click)="convertFileToBase64()">Convert Image To Base64</button> -->
          </label>
        </div>
        <br>
      </div>
      <img *ngIf="imageSrc" [src]="imageSrc" style="height: 300px; width:500px; margin-left:15%; margin-right:15%;">
      <button [disabled]="!myForm.valid" (click)="submit(myForm.value)" class="button full-width-field btn btn-primary" style="background-color: #005281; color:white;"
              type="submit">Freigeben</button>
    </form>
  </div>
</div>
</body>
</html>
